<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.0.2/+esm'
        mermaid.initialize({startOnLoad:true,theme:'neutral'})
        await mermaid.run({querySelector:'code.language-mermaid'})
    </script>
    {% for module in page.modules %}
    <script src="{{ module }}" type="module"></script>
    {% endfor %}
    <link rel="stylesheet" href="{{ "/assets/css/main.css?v=" | append: site.github.build_revision | relative_url }}">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    {% include head-custom.html %}
    <title>{{ page.title | default: site.title | default: site.github.repository_name }}</title>
</head>

<body>
    <div>
        {% if site.logo and page.layout == "default" %}
            {% if page.url == "/" %}
            <!-- Large hero logo for homepage only -->
            <header class="wrapper">
                <a href="{{ "/" | absolute_url }}"><img src="{{site.logo | relative_url}}" alt="Logo" style="width:100%;"/></a>
                <nav style="margin-top: 1rem; padding: 0.5rem 0; border-top: 1px solid #ccc; border-bottom: 1px solid #ccc;">
                    <a href="{{ "/getting-started" | absolute_url }}" style="margin-right: 1.5rem;">Getting Started</a>
                    <a href="{{ "/category/tutorials" | absolute_url }}" style="margin-right: 1.5rem;">Tutorials</a>
                    <a href="{{ "/about" | absolute_url }}" style="margin-right: 1.5rem;">About</a>
                    <a href="{{ "/api" | absolute_url }}" style="margin-right: 1.5rem;">API</a>
                    <a href="https://app.t-pen.org" style="margin-right: 1.5rem;">Launch App →</a>
                </nav>
            </header>
            {% else %}
            <!-- Compact header for internal pages -->
            <header class="wrapper" style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 0; border-bottom: 2px solid #ccc;">
                <a href="{{ "/" | absolute_url }}" style="flex-shrink: 0;">
                    <img src="{{site.logo | relative_url}}" alt="TPEN Logo" style="height: 60px; width: auto;"/>
                </a>
                <nav style="display: flex; gap: 1.5rem; align-items: center;">
                    <a href="{{ "/getting-started" | absolute_url }}">Getting Started</a>
                    <a href="{{ "/category/tutorials" | absolute_url }}">Tutorials</a>
                    <a href="{{ "/about" | absolute_url }}">About</a>
                    <a href="{{ "/api" | absolute_url }}">API</a>
                    <a href="https://app.t-pen.org" style="font-weight: bold;">Launch App →</a>
                </nav>
            </header>
            {% endif %}
        {% else %}
            <header style="position: fixed;background-color: var(--darkest);box-shadow: 0 0 8px var(--darkest);width: 100%;z-index:15;">
                <h1 style="margin: 0;"><a href="{{ "/" | absolute_url }}" style="text-decoration: none;">{{ site.title | default: site.github.repository_name }}</a>
                    <div class="cube">
                        <div class="top"> </div>
                        <div class="right"> </div>
                        <div class="bottom"> </div>
                        <div class="left"> </div>
                        <div class="front"> </div>
                        <div class="back"> </div>
                      </div>
                    <div class="cube">
                        <div class="top"> </div>
                        <div class="right"> </div>
                        <div class="bottom"> </div>
                        <div class="left"> </div>
                        <div class="front"> </div>
                        <div class="back"> </div>
                      </div>
                    <div class="cube">
                        <div class="top"> </div>
                        <div class="right"> </div>
                        <div class="bottom"> </div>
                        <div class="left"> </div>
                        <div class="front"> </div>
                        <div class="back"> </div>
                      </div>
                </h1>
            </header>
            {% endif %}
        <section id="content" class="wrapper dark">

            {{ content }}

        </section>
        <footer class="wrapper">
            <a href="{{ "/" | absolute_url }}">Return to the home page.</a>
            &midcir; 
            <a href="{{ "/about" | absolute_url }}">Learn about the platform.</a>
            &midcir; 
            <a href="https://github.com/CenterForDigitalHumanities/TPEN3">Read code on GitHub.com.</a>
        </footer>
    </div>
    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
    <script src="{{ "/assets/js/tldr.js" | relative_url }}"></script>
</body>

</html>
